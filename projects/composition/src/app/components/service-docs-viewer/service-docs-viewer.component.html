<cps-tab-group
  tabsBackground="bg-light"
  animationType="fade"
  (afterTabChanged)="changeTab($event)"
  [selectedIndex]="selectedTabIndex">
  <cps-tab label="Examples">
    <div class="example-content">
      <ng-content></ng-content>
    </div>
  </cps-tab>
  <cps-tab label="API">
    <ng-container *ngIf="serviceData">
      <div>
        <h1>{{ serviceData.name }}</h1>
        <p>{{ serviceData.description }}</p>
        <!-- Methods -->
        <div
          *ngIf="
            serviceData.methods?.values && serviceData.methods.values.length > 0
          ">
          <h2>Methods</h2>
          <p>{{ serviceData.methods.description }}</p>
          <div>
            <table class="data-table">
              <thead>
                <th>Name</th>
                <th>Parameters</th>
                <th>Return type</th>
                <th>Description</th>
              </thead>
              <tbody>
                <tr *ngFor="let method of serviceData.methods.values">
                  <td class="highlighted-bg">
                    <span>{{ method.name }}</span>
                  </td>
                  <td class="highlighted-text">
                    {{ parseParameters(method.parameters) || 'null' }}
                  </td>
                  <td class="highlighted-text">
                    <a
                      *ngIf="TypesMap[method.returnType]"
                      [routerLink]="'/' + TypesMap[method.returnType] + '/api'"
                      fragment="{{ method.returnType }}"
                      >{{ method.returnType }}</a
                    >
                    <span *ngIf="!TypesMap[method.returnType]">{{
                      method.returnType
                    }}</span>
                  </td>
                  <td class="method-description">{{ method.description }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- Types -->
        <div
          *ngIf="
            serviceData.types &&
            serviceData.types.values &&
            serviceData.types.values.length > 0
          ">
          <h2>Types</h2>
          <p>{{ serviceData.types.description }}</p>
          <div>
            <table class="data-table">
              <thead>
                <th>Name</th>
                <th>Values</th>
                <th>Description</th>
              </thead>
              <tbody>
                <tr *ngFor="let type of serviceData.types.values">
                  <td class="highlighted-bg">
                    <span>{{ type.name }}</span>
                  </td>
                  <td class="highlighted-text">
                    {{ type.value }}
                  </td>
                  <td>{{ type.description }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </ng-container>
  </cps-tab>
</cps-tab-group>
