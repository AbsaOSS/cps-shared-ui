<div
  #mask
  [ngClass]="{
    'p-dialog-mask': true,
    'p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker':
      config.modal !== false,
    'p-dialog-left': position === 'left',
    'p-dialog-right': position === 'right',
    'p-dialog-top': position === 'top',
    'p-dialog-bottom': position === 'bottom',
    'p-dialog-top-left': position === 'topleft' || position === 'top-left',
    'p-dialog-top-right': position === 'topright' || position === 'top-right',
    'p-dialog-bottom-left':
      position === 'bottomleft' || position === 'bottom-left',
    'p-dialog-bottom-right':
      position === 'bottomright' || position === 'bottom-right'
  }"
  [class]="config.maskStyleClass || ''">
  <div
    #container
    [ngClass]="{
      'p-dialog p-dynamic-dialog p-component': true,
      'p-dialog-resizable': config.resizable,
      'p-dialog-draggable': config.draggable,
      'p-dialog-maximized': maximized
    }"
    [ngStyle]="config.style"
    [class]="config.styleClass || ''"
    [@animation]="{
      value: 'visible',
      params: {
        transform: transformOptions,
        transition:
          config.transitionOptions || '150ms cubic-bezier(0, 0, 0.2, 1)'
      }
    }"
    (@animation.start)="onAnimationStart($event)"
    (@animation.done)="onAnimationEnd($event)"
    role="dialog"
    *ngIf="visible"
    [style.width]="config.width"
    [style.height]="config.height">
    <div
      *ngIf="config.resizable"
      class="p-resizable-handle"
      style="z-index: 90"
      (mousedown)="initResize($event)"></div>
    <div
      #titlebar
      class="p-dialog-header"
      (mousedown)="initDrag($event)"
      *ngIf="config.showHeader === false ? false : true">
      <span class="p-dialog-title">{{ config.headerTitle }}</span>
      <div class="p-dialog-header-icons">
        <button
          *ngIf="config.maximizable"
          type="button"
          [ngClass]="{
            'p-dialog-header-icon p-dialog-header-maximize p-link': true
          }"
          (click)="maximize()"
          (keydown.enter)="maximize()"
          tabindex="-1"
          pRipple>
          <span
            class="p-dialog-header-maximize-icon"
            [ngClass]="maximized ? minimizeIcon : maximizeIcon"></span>
          <WindowMaximizeIcon
            *ngIf="!maximized && !maximizeIcon"
            [styleClass]="'p-dialog-header-maximize-icon'" />
          <WindowMinimizeIcon
            *ngIf="maximized && !minimizeIcon"
            [styleClass]="'p-dialog-header-maximize-icon'" />
        </button>
        <button
          [ngClass]="'p-dialog-header-icon p-dialog-header-maximize p-link'"
          type="button"
          (click)="hide()"
          (keydown.enter)="hide()"
          *ngIf="config.showCloseBtn !== false">
          <TimesIcon [styleClass]="'p-dialog-header-close-icon'" />
        </button>
      </div>
    </div>
    <div #content class="p-dialog-content" [ngStyle]="config.contentStyle">
      <ng-template pDynamicDialogContent></ng-template>
    </div>
  </div>
</div>
