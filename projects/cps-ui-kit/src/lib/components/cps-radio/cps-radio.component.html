<div class="cps-radio-group">
  <div class="cps-radio-group-label" *ngIf="groupLabel">
    <span>{{ groupLabel }}</span>
    <cps-info-circle
      *ngIf="tooltip"
      class="cps-radio-group-label-info-circle"
      size="xsmall"
      tooltipPosition="top"
      [tooltipContentClass]="tooltipClass"
      [tooltipText]="tooltip">
    </cps-info-circle>
  </div>

  <div
    class="cps-radio-group-content"
    [ngClass]="
      vertical
        ? 'cps-radio-group-content-vertical'
        : 'cps-radio-group-content-horizontal'
    ">
    <ng-container *ngFor="let option of options">
      <ng-container
        *ngTemplateOutlet="
          optionContainerTemplate;
          context: {
            option: option,
            tooltip: option.tooltip
          }
        "></ng-container>
    </ng-container>
  </div>
</div>

<ng-template #optionContainerTemplate let-option="option" let-tooltip="tooltip">
  <label
    *ngIf="tooltip"
    class="cps-radio-group-content-button"
    [cpsTooltip]="option.tooltip"
    tooltipCloseDelay="0"
    tooltipPosition="bottom"
    [ngStyle]="{
      cursor: option.disabled || disabled ? 'default' : 'pointer'
    }">
    <ng-container
      *ngTemplateOutlet="
        optionRadioTemplate;
        context: {
          option: option
        }
      "></ng-container>
  </label>
  <label
    *ngIf="!tooltip"
    class="cps-radio-group-content-button"
    [ngStyle]="{
      cursor: option.disabled || disabled ? 'default' : 'pointer'
    }">
    <ng-container
      *ngTemplateOutlet="
        optionRadioTemplate;
        context: {
          option: option
        }
      "></ng-container>
  </label>
</ng-template>

<ng-template #optionRadioTemplate let-option="option">
  <input
    type="radio"
    [disabled]="option.disabled || disabled"
    [value]="option.value"
    [checked]="value === option.value"
    (change)="updateValueEvent($event)" />
  <span class="cps-radio-group-content-button-label">{{ option.label }}</span>
</ng-template>
