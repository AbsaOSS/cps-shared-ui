<div
  class="cps-expansion-panel"
  [class.expanded]="isExpanded"
  [ngStyle]="{
    'background-color': backgroundColor,
    'border-radius': borderRadius,
    width: width,
    border: bordered ? '1px solid ' + borderColor : ''
  }">
  <div
    class="cps-expansion-panel-header"
    [@panelHeader]="
      isExpanded
        ? {
            value: 'visible',
            params: {
              borderStyle: bordered ? '1px solid ' + borderColor : ''
            }
          }
        : 'hidden'
    "
    [ngClass]="{ disabled: disabled }"
    [style.cursor]="disabled ? 'default' : 'pointer'"
    (click)="toggleExpansion()">
    @if (prefixIcon) {
      <span class="cps-expansion-panel-prefix-icon">
        <cps-icon
          [icon]="prefixIcon"
          size="small"
          [color]="disabled ? 'text-mild' : 'text-dark'">
        </cps-icon>
      </span>
    }
    <div class="cps-expansion-panel-title">{{ headerTitle }}</div>
    @if (showChevron && !disabled) {
      <span class="cps-expansion-panel-chevron">
        <cps-icon icon="chevron-down" size="small" color="text-dark">
        </cps-icon>
      </span>
    }
  </div>
  <div class="cps-expansion-panel-content" #panelContentElem>
    <div class="cps-expansion-panel-content-inner">
      <ng-content></ng-content>
    </div>
  </div>
</div>
