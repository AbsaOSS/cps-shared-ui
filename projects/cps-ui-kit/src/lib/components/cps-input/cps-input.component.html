<div class="input-container">
  <label class="label-text" [ngClass]="{ 'label-text-disabled': disabled }">{{
    label
  }}</label>

  <div
    class="input-wrap"
    [ngClass]="{
      password: type === 'password',
      'input-wrap-error': error,
      clearable: clearable,
    }"
  >
    <input
      [type]="currentType"
      [value]="value"
      (input)="updateValueEvent($event)"
      [placeholder]="placeholder"
      [disabled]="disabled"
      [ngStyle]="{
        width: cvtWidth,
        'padding-left': prefixWidth || 'none'
      }"
      (blur)="onBlur()"
    />

    <div class="prefix">
      <span *ngIf="prefixIcon" class="prefix-icon">
        <cps-icon [icon]="prefixIcon" [size]="prefixIconSize"></cps-icon>
      </span>

      <span *ngIf="prefixText" class="prefix-text" #prefixTextSpan>
        {{ prefixText }}
      </span>
    </div>

    <div class="action-btns">
      <span *ngIf="clearable" class="clear-btn">
        <cps-icon icon="delete" size="small" (click)="clear()"></cps-icon>
      </span>

      <span
        *ngIf="type === 'password'"
        class="password-show-btn"
        [ngClass]="{ 'password-show-btn-active': currentType === 'text' }"
      >
        <cps-icon icon="eye" size="18px" (click)="togglePassword()"></cps-icon>
      </span>
    </div>
  </div>

  <div *ngIf="loading" class="progress-bar" [ngStyle]="{ width: cvtWidth }">
    <div class="progress-bar-line inc"></div>
    <div class="progress-bar-line dec"></div>
  </div>
  <div *ngIf="!error && !hideDetails" class="hint-text">{{ hint }}</div>
  <div *ngIf="error && !hideDetails" class="error-text">{{ error }}</div>
</div>
